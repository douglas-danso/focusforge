# FocusForge üî•

A comprehensive productivity and focus management platform powered by the **Memory-Chain-Planner** architecture with AI-driven task decomposition, intelligent planning, and adaptive memory systems.

## Architecture

FocusForge implements the advanced **Memory-Chain-Planner** pattern:

```
[ Mobile / Web Frontend ]
         ‚Üï (REST / WebSocket)
[ FastAPI API Gateway ]  ‚Üê‚Üí  [ Memory-Chain-Planner Orchestrator ]
         ‚Üï                            ‚Üï
[ Memory Layer ]  ‚Üê‚Üí  [ Chains Layer ]  ‚Üê‚Üí  [ Planner Layer ]
         ‚Üï                            ‚Üï                ‚Üï
[ Unified MCP System (Adapter Layer) ]  ‚Üê‚Üí  [ Background Tasks (RQ) ]
         ‚Üï
[ External Services: MongoDB, Redis, Spotify, Calendar ]
```

### Core Components:

- **üß† Memory Layer** - Multi-type memory system with LangChain compatibility
- **üîó Chains Layer** - Specialized LangChain workflows for task processing
- **ÔøΩ Planner Layer** - Intelligent action planning and coordination
- **üîÑ Orchestrator** - Central coordinator implementing complete workflows
- **‚ö° Background Tasks** - RQ/Redis-based async processing
- **üîß Unified MCP System** - 15+ productivity tools with consistent interface
- **üåê Frontend Apps** - React web and Flutter mobile applications
- **ÔøΩ Persistence** - MongoDB with Redis caching

**Key Features:**
- **Memory-aware processing** with context persistence
- **AI-driven chain execution** for complex workflows
- **Intelligent action planning** with dependency management
- **Background processing** for long-running tasks
- **Unified tool interface** for consistent AI agent integration

## Features ‚ú®

### Core Functionality
- üß† **Memory-Chain-Planner** - Advanced AI architecture with memory persistence
- üîó **Intelligent Chains** - AI-powered task analysis and decomposition
- üéØ **Smart Planning** - Dependency-aware action planning and execution
- üçÖ **Enhanced Pomodoro** - AI-optimized focus sessions with ritual recommendations
- üìù **Task Management** - Memory-aware task creation and completion workflows
- üìä **Analytics & Insights** - Pattern recognition and productivity optimization
- üè™ **Reward Store** - Gamified rewards with intelligent recommendations
- üòä **Mood Tracking** - Emotional pattern analysis with AI insights
- üéµ **Spotify Integration** - Context-aware music and mood-based playlists

### Advanced Features
- üß† **Persistent Memory** - Multi-type memory system (short-term, working, long-term, semantic)
- ‚ö° **Background Processing** - Async task execution with RQ/Redis
- ÔøΩ **Workflow Orchestration** - Complete Memory-Chain-Planner workflows
- ü§ñ **AI Agent Integration** - Unified MCP system with 15+ productivity tools
- ÔøΩüì± **Cross-Platform** - Web, mobile, and API interfaces
- üîí **User Management** - Context-aware authentication and profiles
- üìà **Streak Tracking** - AI-powered consistency monitoring
- üéØ **Goal Setting** - Intelligent weekly and monthly objectives
- üèÜ **Achievements** - Dynamic badges and milestone tracking
- üîî **Smart Notifications** - Context-aware reminders and alerts

## Quick Start üöÄ

### Prerequisites
- Python 3.8+
- MongoDB running locally  
- Redis (optional, for background tasks)
- OpenAI API key

### Fast Setup
```powershell
# Clone and setup
git clone https://github.com/douglas-danso/focusforge.git
cd focusforge

# Set environment variables
$env:MONGODB_URI = "mongodb://localhost:27017"
$env:OPENAI_API_KEY = "your_openai_api_key_here"
$env:REDIS_URL = "redis://localhost:6379"  # Optional

# Install and start backend
cd backend
pip install -r requirements.txt
python main.py

# Access the Memory-Chain-Planner API
# http://localhost:8000/docs
```

**üìñ Detailed Setup**: See [QUICK_START.md](QUICK_START.md) for complete instructions.
**üèóÔ∏è Architecture Guide**: See [MEMORY_CHAIN_PLANNER_ARCHITECTURE.md](MEMORY_CHAIN_PLANNER_ARCHITECTURE.md) for detailed architecture documentation.

### Development Options

#### Option 1: Individual Services (Recommended for Development)

```powershell
# Windows PowerShell
.\start-backend.ps1     # Backend + Database + Cache
.\start-frontend.ps1    # Web Application
.\start-mobile.ps1      # Mobile Development Environment
```

```bash
# Linux/Mac
./start-backend.sh      # Backend + Database + Cache  
./start-frontend.sh     # Web Application
./start-mobile.sh       # Mobile Development Environment
```

### Option 2: Service-Specific Docker Compose

```bash
# Backend development (API + DB + Cache)
docker-compose -f docker-compose.backend.yml up -d

# Frontend development (Web app only)
docker-compose -f docker-compose.frontend.yml up -d

# Mobile development (Flutter environment)
docker-compose -f docker-compose.mobile.yml up -d
```

### Option 3: Full Production Stack

```bash
# Complete stack with API Gateway and load balancing
docker-compose -f docker-compose.prod.yml up -d
```

## üìã Service Access

Once running, access your services:

| Service | URL | Description |
|---------|-----|-------------|
| **Backend API** | http://localhost:8000 | FastAPI backend service |
| **API Docs** | http://localhost:8000/docs | Interactive API documentation |
| **Web App** | http://localhost:3000 | React web application |
| **Mobile Web** | http://localhost:3001 | Flutter web development |
| **Production** | http://localhost | Full stack via API Gateway |

## ‚öôÔ∏è Configuration

Create environment files from templates:

```bash
# Backend configuration
cp .env.backend.template .env

# Frontend configuration  
cp .env.frontend.template frontend/.env

# Mobile configuration
cp .env.mobile.template mobile/.env
```

**Required Environment Variables:**
- `OPENAI_API_KEY` - For AI task decomposition
- `SPOTIPY_CLIENT_ID` & `SPOTIPY_CLIENT_SECRET` - For Spotify integration (optional)

## Development Setup üõ†Ô∏è

### Backend Development

```bash
cd backend
# Install Hatch if you haven't already
pip install hatch

# Create environment and install dependencies
hatch env create

# Start development server
hatch run dev

# Run tests
hatch run test

# Format and lint code
hatch run format
hatch run lint
```

### Frontend Development

```bash
cd frontend
npm install
npm start
```

### Mobile Development

```bash
cd mobile
flutter pub get
flutter run
```

### CLI Development (Legacy)

```bash
pip install -e .  # Install in development mode
focusforge --help
```

## API Endpoints üîå

### Memory-Chain-Planner Orchestrator
- `POST /api/v1/orchestrator/tasks/create-enhanced` - Complete task creation workflow
- `POST /api/v1/orchestrator/tasks/complete-enhanced` - Complete task completion workflow  
- `POST /api/v1/orchestrator/daily-optimization` - Daily optimization workflow
- `POST /api/v1/orchestrator/focus-session` - Enhanced focus session with AI rituals

### Planner Management
- `GET /api/v1/orchestrator/planner/actions/{user_id}` - Get user's planned actions
- `POST /api/v1/orchestrator/planner/execute/{user_id}` - Execute ready actions
- `DELETE /api/v1/orchestrator/planner/actions/{action_id}` - Cancel action

### Chain Execution
- `POST /api/v1/orchestrator/chains/execute/{chain_name}` - Execute specific chain
- `POST /api/v1/orchestrator/chains/sequence` - Execute chain sequence
- `DELETE /api/v1/orchestrator/chains/cache` - Clear chain cache

### Memory Management
- `GET /api/v1/orchestrator/memory/user-context/{user_id}` - Get user context
- `POST /api/v1/orchestrator/memory/user-context/{user_id}` - Update user context
- `GET /api/v1/orchestrator/memory/similar-tasks/{user_id}` - Search similar tasks

### Background Tasks
- `GET /api/v1/orchestrator/background-tasks/status/{job_id}` - Get task status
- `DELETE /api/v1/orchestrator/background-tasks/{job_id}` - Cancel background task

### Legacy API Endpoints

### Tasks
- `GET /api/v1/tasks` - List tasks
- `POST /api/v1/tasks` - Create task
- `GET /api/v1/tasks/{id}` - Get task
- `PUT /api/v1/tasks/{id}` - Update task
- `DELETE /api/v1/tasks/{id}` - Delete task

### Pomodoro
- `POST /api/v1/pomodoro/start` - Start session
- `PUT /api/v1/pomodoro/{id}/complete` - Complete session
- `GET /api/v1/pomodoro` - List sessions

### Analytics
- `GET /api/v1/analytics` - Get user analytics
- `GET /api/v1/analytics/streak` - Current streak
- `GET /api/v1/analytics/weekly` - Weekly stats
- `GET /api/v1/analytics/monthly` - Monthly stats

### Store & Rewards
- `GET /api/v1/store/items` - List store items
- `GET /api/v1/store/profile` - User profile & currency
- `POST /api/v1/store/purchase/{item}` - Purchase item
- `POST /api/v1/store/add-currency/{amount}` - Add currency

### Mood Tracking
- `POST /api/v1/mood` - Log mood
- `GET /api/v1/mood` - Get mood history
- `GET /api/v1/mood/trends` - Mood trends

### Spotify Integration
- `POST /api/v1/spotify/play/{uri}` - Play playlist
- `POST /api/v1/spotify/pause` - Pause playback
- `POST /api/v1/spotify/search` - Search playlists
- `POST /api/v1/spotify/play-by-mood/{mood}` - Mood-based music

## Configuration ‚öôÔ∏è

### Required Environment Variables

```env
# OpenAI (for AI chains and task decomposition)
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4

# Memory-Chain-Planner Configuration
REDIS_URL=redis://localhost:6379  # Optional, for background tasks
ENABLE_BACKGROUND_TASKS=true      # Optional, enables RQ processing
MEMORY_CLEANUP_INTERVAL=3600      # Memory cleanup interval (seconds)
CHAIN_EXECUTION_TIMEOUT=60        # Chain execution timeout (seconds)

# Database
MONGODB_URI=mongodb://localhost:27017
DATABASE_NAME=focusforge

# Spotify (for music integration - optional)
SPOTIPY_CLIENT_ID=your_spotify_client_id
SPOTIPY_CLIENT_SECRET=your_spotify_client_secret
SPOTIPY_REDIRECT_URI=http://localhost:3000/callback
```

### Spotify Setup

1. Go to [Spotify Developer Dashboard](https://developer.spotify.com/)
2. Create a new app
3. Add redirect URI: `http://localhost:3000/callback`
4. Copy Client ID and Client Secret to `.env`

### OpenAI Setup

1. Get API key from [OpenAI Platform](https://platform.openai.com/)
2. Add to `.env` file
3. Ensure you have sufficient credits for API calls

## Project Structure üìÅ

```
focusforge/
‚îú‚îÄ‚îÄ backend/                    # FastAPI backend with Memory-Chain-Planner
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/v1/            # API routes (enhanced + legacy)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ endpoints/     # Orchestrator and legacy endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/              # Memory-Chain-Planner implementation
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ memory.py      # Multi-type memory system
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chains.py      # Specialized LangChain workflows
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ planner.py     # Intelligent action planning
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orchestrator.py # Central workflow coordinator
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ background_tasks.py # RQ/Redis task system
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mcp_adapter.py # Unified MCP system (existing)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py      # Configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/            # Pydantic schemas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/          # Business logic services
‚îÇ   ‚îú‚îÄ‚îÄ main.py                # FastAPI app with orchestrator
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt       # Enhanced dependencies
‚îú‚îÄ‚îÄ frontend/                  # React frontend
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/        # Reusable components  
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/             # Page components
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/          # API client (enhanced)
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ mobile/                    # Flutter mobile app
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/              # App configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features/          # Feature modules
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.dart
‚îÇ   ‚îî‚îÄ‚îÄ pubspec.yaml
‚îú‚îÄ‚îÄ MEMORY_CHAIN_PLANNER_ARCHITECTURE.md  # Architecture documentation
‚îú‚îÄ‚îÄ QUICK_START.md             # Quick start guide
‚îú‚îÄ‚îÄ docker-compose.yml         # Multi-service setup
‚îî‚îÄ‚îÄ README.md
```

## Testing üß™

### Backend Tests
```bash
cd backend
pytest
```

### Frontend Tests
```bash
cd frontend
npm test
```

### Mobile Tests
```bash
cd mobile
flutter test
```

## Deployment üöÄ

### Docker Production

```bash
# Build production images
docker-compose -f docker-compose.prod.yml build

# Deploy
docker-compose -f docker-compose.prod.yml up -d
```

### Manual Deployment

1. **Backend**: Deploy FastAPI app to your preferred platform (Heroku, Railway, etc.)
2. **Frontend**: Build and deploy to Vercel, Netlify, or similar
3. **Database**: Use MongoDB Atlas or self-hosted MongoDB
4. **Mobile**: Build and deploy to App Store/Play Store

## Contributing ü§ù

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## Migration from CLI üîÑ

If you were using the CLI version:

1. **Export your data**: `focusforge export-data`
2. **Set up the new stack**: Follow the Quick Start guide
3. **Import your data**: Use the import feature in the web interface
4. **Continue using CLI**: The CLI still works alongside the new interfaces

## License üìÑ

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Support üí¨

- üìß Email: support@focusforge.app
- üêõ Issues: [GitHub Issues](https://github.com/douglas-danso/focusforge/issues)
- üí¨ Discussions: [GitHub Discussions](https://github.com/douglas-danso/focusforge/discussions)

## Roadmap üó∫Ô∏è

### Completed ‚úÖ
- [x] Memory-Chain-Planner architecture implementation
- [x] Multi-type memory system with LangChain compatibility
- [x] Specialized AI chains for task processing
- [x] Intelligent action planning and coordination
- [x] Background task processing with RQ/Redis
- [x] Unified MCP system with 15+ productivity tools
- [x] Enhanced API endpoints for orchestrator workflows
- [x] Complete architecture documentation

### In Progress üöß
- [ ] Vector store integration (FAISS/Milvus) for semantic search
- [ ] Advanced AI agent implementations
- [ ] Real-time notifications and WebSocket support
- [ ] Complete Google Calendar integration

### Planned üìã
- [ ] Team and workspace management
- [ ] Advanced analytics with pattern recognition
- [ ] Voice commands and control
- [ ] Integration with more productivity tools (Notion, Slack, etc.)
- [ ] AI-powered productivity recommendations
- [ ] Advanced customization and personalization
- [ ] Mobile push notifications
- [ ] Offline mode support

---

Made with ‚ù§Ô∏è by [Douglas Danso](https://github.com/douglas-danso)